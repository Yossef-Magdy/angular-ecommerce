<app-header></app-header>
<div class="container py-4">
    <div class="p-3">
        <h2 class="mb-3 fw-normal">Cart</h2>
    </div>
    @if(cart.length > 0) {
        @for(cartItem of cart; track $index) {
            <div class="cart-list mb-3">
                <div class="cart-item">
                    <img src="{{cartItem.product.thumbnail}}" alt="" class="w-100 bg-light rounded">
                    <div class="d-flex flex-column justify-content-between">
                        <div>
                            <h6 class="mb-2">{{cartItem.product.title}}</h6>
                            <span class="fs-5">${{cartItem.product.price}}</span>
                        </div>
                        <div class="d-flex justify-content-between">
                            <div class="qty-control">
                                <button class="btn bg-light" (click)="decreaseCount($index)">&minus;</button>
                                <span class="bg-light">{{cartItem.count}}</span>
                                <button class="btn bg-light" (click)="increaseCount($index)">&plus;</button>
                            </div>
                            <button class="btn btn-danger px-4 py-2" (click)="removeItem($index)" >&Cross;</button>
                        </div>
                    </div>
                </div>
            </div>
        }
        <h4>Checkout</h4>
        <p class="mb-1"><span class=" me-1 fw-bold">Subtotal </span> <span class="text-muted">${{subtotal}}</span></p>
        <p class="mb-0"><span class=" me-1 fw-bold">Discount </span> <span class="text-muted">-${{discount}}</span></p>
        <hr class="hr">
        <p><span class="fw-bold me-1">Total </span>${{total}}</p>
    } @else {
        <h4 class="text-center text-black-50">Cart is empty</h4>
    }
</div>